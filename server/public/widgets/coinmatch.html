<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StreamFinity | Coin Match</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui,sans-serif;background:transparent;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;padding:16px}
.cm{width:100%;max-width:400px;padding:24px;border-radius:18px;background:rgba(15,15,25,.85);-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.08)}
.cm-title{font-size:16px;font-weight:700;text-align:center;margin-bottom:16px;display:flex;align-items:center;justify-content:center;gap:8px}
.cm-title span{color:#f59e0b}
.bid{display:flex;align-items:center;gap:10px;padding:10px 14px;margin-bottom:6px;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);transition:all .3s}
.bid.top{background:linear-gradient(135deg,rgba(245,158,11,.12),rgba(234,179,8,.06));border-color:rgba(245,158,11,.25)}
.bid-rank{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:800;flex-shrink:0;background:rgba(255,255,255,.06)}
.bid.top .bid-rank{background:linear-gradient(135deg,#f59e0b,#f97316);color:#000}
.bid-name{flex:1;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.bid-coins{font-size:14px;font-weight:800;color:#fbbf24;display:flex;align-items:center;gap:4px}
.bid-new{animation:bidIn .4s cubic-bezier(.22,1,.36,1)}
@keyframes bidIn{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
</style>
</head>
<body>
<div class="cm">
    <div class="cm-title">üèÜ <span>Coin Match</span> ‚Äî Live Auction</div>
    <div id="bids"></div>
</div>
<script src="/widgets/sf-bridge.js"></script>
<script>
(function(){
'use strict';
var bidsEl=document.getElementById('bids');
var bidders={};

function render(){
    var sorted=Object.entries(bidders).sort(function(a,b){return b[1]-a[1];});
    bidsEl.innerHTML=sorted.slice(0,8).map(function(e,i){
        var cls=i===0?'bid top bid-new':'bid bid-new';
        return '<div class="'+cls+'"><div class="bid-rank">'+(i+1)+'</div><div class="bid-name">@'+e[0]+'</div><div class="bid-coins">'+e[1].toLocaleString()+' ü™ô</div></div>';
    }).join('');
}

SF.on('gift',function(d){
    var u=d.uniqueId||'user';
    var coins=d.diamondCount||1;
    bidders[u]=(bidders[u]||0)+coins;
    render();
});

if(SF.preview){
    var users=['GiftKing','BigSpender','Supporter','FanGirl','NewViewer','LoyalFan'];
    bidders={GiftKing:2500,BigSpender:1800,Supporter:950,FanGirl:420,NewViewer:150};
    render();
    setInterval(function(){
        var u=users[Math.floor(Math.random()*users.length)];
        bidders[u]=(bidders[u]||0)+Math.ceil(Math.random()*200);
        render();
    },3000);
}
})();
</script>
</body>
</html>
