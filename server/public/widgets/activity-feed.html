<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StreamFinity | Activity Feed</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui,sans-serif;background:transparent;overflow:hidden;color:#fff}
#feed{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:flex-end;padding:10px;gap:5px}
.ev{display:flex;align-items:center;gap:10px;padding:8px 14px;border-radius:12px;background:rgba(15,15,25,.7);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.06);animation:evIn .35s cubic-bezier(.22,1,.36,1)}
.ev-icon{width:32px;height:32px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0}
.ev-body{flex:1;min-width:0}
.ev-text{font-size:12px;line-height:1.4;color:rgba(255,255,255,.8)}
.ev-text b{color:#fff;font-weight:600}
.ev-time{font-size:10px;color:rgba(255,255,255,.25);flex-shrink:0}
.ev.gift .ev-icon{background:rgba(239,68,68,.15);color:#ef4444}
.ev.follow .ev-icon{background:rgba(16,185,129,.15);color:#10b981}
.ev.like .ev-icon{background:rgba(236,72,153,.15);color:#ec4899}
.ev.share .ev-icon{background:rgba(59,130,246,.15);color:#3b82f6}
.ev.sub .ev-icon{background:rgba(245,158,11,.15);color:#f59e0b}
.ev.chat .ev-icon{background:rgba(139,92,246,.15);color:#8b5cf6}
.ev.join .ev-icon{background:rgba(20,184,166,.15);color:#14b8a6}
@keyframes evIn{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}
.ev.removing{animation:evOut .25s forwards}
@keyframes evOut{to{opacity:0;transform:translateX(-20px)}}
</style>
</head>
<body>
<div id="feed"></div>
<script src="/widgets/sf-bridge.js"></script>
<script>
(function(){
'use strict';
var feed=document.getElementById('feed');
var MAX=40,count=0;
var icons={gift:'üéÅ',follow:'üë§',like:'‚ù§Ô∏è',share:'üîó',sub:'‚≠ê',chat:'üí¨',join:'üëã'};

function timeStr(){var d=new Date();return d.getHours().toString().padStart(2,'0')+':'+d.getMinutes().toString().padStart(2,'0')+':'+d.getSeconds().toString().padStart(2,'0');}
function esc(s){var d=document.createElement('div');d.textContent=s;return d.innerHTML;}

function addEvent(type,html){
    var el=document.createElement('div');
    el.className='ev '+type;
    el.innerHTML='<div class="ev-icon">'+(icons[type]||'‚ö°')+'</div><div class="ev-body"><div class="ev-text">'+html+'</div></div><div class="ev-time">'+timeStr()+'</div>';
    feed.appendChild(el);
    count++;
    while(count>MAX){var f=feed.firstElementChild;if(f){f.classList.add('removing');setTimeout(function(n){n.remove()},250,f);count--;}else break;}
    feed.scrollTop=feed.scrollHeight;
}

SF.on('chat',function(d){addEvent('chat','<b>'+esc(d.uniqueId||'User')+'</b> said: '+esc(d.comment||''));});
SF.on('gift',function(d){addEvent('gift','<b>'+esc(d.uniqueId||'User')+'</b> sent <b>'+(d.giftName||'gift')+'</b>'+(d.repeatCount>1?' x'+d.repeatCount:''));});
SF.on('follow',function(d){addEvent('follow','<b>'+esc(d.uniqueId||'User')+'</b> followed');});
SF.on('like',function(d){addEvent('like','<b>'+esc(d.uniqueId||'User')+'</b> liked'+(d.likeCount>1?' x'+d.likeCount:''));});
SF.on('share',function(d){addEvent('share','<b>'+esc(d.uniqueId||'User')+'</b> shared the stream');});
SF.on('subscribe',function(d){addEvent('sub','<b>'+esc(d.uniqueId||'User')+'</b> subscribed');});
SF.on('member',function(d){addEvent('join','<b>'+esc(d.uniqueId||'User')+'</b> joined');});

if(SF.preview){
    var users=['StreamFan','GiftKing','NewViewer','TikTokPro','ChatMaster','MusicLover','BigSpender','LoyalFan'];
    var types=['chat','gift','follow','like','share','join'];
    setInterval(function(){
        var t=types[Math.floor(Math.random()*types.length)];
        var u=users[Math.floor(Math.random()*users.length)];
        if(t==='chat') SF._fakeChat(u,'Hello! üî•');
        else if(t==='gift') SF._fakeGift(u,'Rose',1,1);
        else if(t==='follow') SF._fakeFollow(u);
        else if(t==='like') SF._fakeLike(u,Math.ceil(Math.random()*5));
        else if(t==='share') SF._fakeShare(u);
        else addEvent('join','<b>'+u+'</b> joined');
    },2000);
}
})();
</script>
</body>
</html>
